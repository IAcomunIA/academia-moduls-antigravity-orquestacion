{
  "level_id": 9,
  "title": "Maestr√≠a en Agentes",
  "slug": "agentes-avanzado",
  "character": "El Estratega",
  "character_emoji": "üß†",
  "character_color": "#00F0FF",
  "intro_dialogue": [
    {
      "speaker": "El Estratega",
      "text": "Comandante, has llegado al n√∫cleo del sistema. Aqu√≠ no solo creas agentes... los haces vivir, respirar y decidir.",
      "emotion": "greeting"
    },
    {
      "speaker": "El Estratega",
      "text": "¬øSab√≠as que en Antigravity puedes tener decenas de agentes trabajando simult√°neamente? Algunos los creas t√∫, otros nacen solos.",
      "emotion": "explaining"
    },
    {
      "speaker": "El Estratega",
      "text": "Hoy aprender√°s el arte de la autonom√≠a, la magia de la programaci√≥n as√≠ncrona, y c√≥mo tu flota de agentes opera en perfecta sincron√≠a.",
      "emotion": "excited"
    },
    {
      "speaker": "El Estratega",
      "text": "¬øListo para convertirte en un verdadero Arquitecto de Agentes?",
      "emotion": "challenging"
    }
  ],
  "theory": {
    "sections": [
      {
        "id": "agent-manager",
        "title": "Open Agent Manager: El Censo Digital",
        "icon": "üìä",
        "content": "Imagina tener una flota de naves espaciales sin saber cu√°ntas hay ni d√≥nde est√°n. El Open Agent Manager es tu panel de control central que responde: ¬øCu√°ntos agentes tengo? ¬øQu√© est√°n haciendo? ¬øQui√©n los cre√≥?",
        "key_points": [
          "Dashboard en tiempo real de todos los agentes activos",
          "Registro autom√°tico: cada agente obtiene un ID √∫nico al nacer",
          "Estados visibles: IDLE (esperando), BUSY (trabajando), COMPLETED (terminado), ERROR (fall√≥)",
          "Tracking de recursos: tokens consumidos, tiempo de ejecuci√≥n, tareas completadas",
          "Visibilidad total: User-defined vs Orchestrator-spawned"
        ],
        "analogy": "Es como el tablero de control de un aeropuerto: ves todos los aviones, sus destinos, si est√°n en tierra o volando, y qui√©n los asign√≥."
      },
      {
        "id": "ciclo-vida",
        "title": "Ciclo de Vida: ¬øQui√©n Crea a Qui√©n?",
        "icon": "üß¨",
        "content": "En Antigravity, los agentes nacen de dos maneras. Esta distinci√≥n es fundamental para entender el flujo de trabajo.",
        "code_example": "// AGENTES DEFINIDOS POR EL USUARIO (User-Defined)\n// Viven en: agents/tareas-investigacion.md\n{\n  'id': 'researcher',\n  'name': 'Agente Investigador',\n  'created_by': 'user',\n  'directive': 'Busca informaci√≥n en la web'\n}\n\n// AGENTES CREADOS DIN√ÅMICAMENTE (Orchestrator-Spawned)\n// Nacen durante la ejecuci√≥n cuando el orquestador decide\n{\n  'id': 'researcher_clone_01',\n  'name': 'Investigador Clonado',\n  'created_by': 'orchestrator',\n  'parent_task': 'investigacion_masiva',\n  'reason': 'Se necesitan 5 investigadores paralelos'\n}",
        "key_points": [
          "User-Defined: T√∫ los escribes en archivos .md en la carpeta agents/",
          "Orchestrator-Spawned: El orquestador los clona din√°micamente cuando detecta que necesita m√°s ayuda",
          "Los agentes 'clonados' heredan la directiva del padre pero pueden especializarse",
          "Todo agente, sin importar qui√©n lo cre√≥, aparece en el Agent Manager"
        ],
        "faq": [
          {
            "q": "¬øCu√°ntos agentes puedo tener activos?",
            "a": "No hay l√≠mite te√≥rico, pero el orquestador gestiona recursos inteligentemente. Si hay muchos, algunos esperan turno."
          },
          {
            "q": "¬øLos agentes clonados desaparecen despu√©s?",
            "a": "S√≠, los agentes din√°micos tienen ciclo de vida temporal. Cuando terminan su tarea, se marcan como 'completados' y se archivan."
          }
        ]
      },
      {
        "id": "autonomia",
        "title": "Niveles de Autonom√≠a: Decide vs Pregunta",
        "icon": "‚öñÔ∏è",
        "content": "Aqu√≠ est√° el coraz√≥n del control. ¬øConf√≠as en que tu agente tome decisiones solo, o prefieres supervisar cada paso?",
        "code_example": "// CONFIGURACI√ìN DE AUTONOM√çA\n{\n  'agent_id': 'content_writer',\n  'autonomy_level': 'ask',  // O: 'auto', 'hybrid'\n  \n  // ASK: Pregunta antes de actuar\n  // '¬øDeber√≠a escribir sobre A o B?' ‚Üí Espera tu respuesta\n  \n  // AUTO: Decide y ejecuta\n  // Decidi√≥ escribir sobre A, lo hace, reporta al final\n  \n  // HYBRID: Decide, pero confirma en casos cr√≠ticos\n  // 'Eleg√≠ A con 70% confianza. ¬øEst√° bien?'\n}",
        "comparison_table": {
          "headers": ["Modo", "Cu√°ndo preguntar", "Velocidad", "Seguridad", "Mejor para"],
          "rows": [
            ["ASK (Pregunta)", "Siempre", "Lenta", "M√°xima", "Depuraci√≥n, tareas cr√≠ticas"],
            ["AUTO (Autom√°tico)", "Nunca", "R√°pida", "Media", "Tareas repetitivas, flujos probados"],
            ["HYBRID (H√≠brido)", "Si incertidumbre > 60%", "Media", "Alta", "Balance entre velocidad y control"]
          ]
        },
        "key_points": [
          "ASK = Modo entrenamiento: el agente aprende de tus respuestas",
          "AUTO = Modo producci√≥n: m√°xima eficiencia una vez que conf√≠as en el flujo",
          "HYBRID = Modo inteligente: el agente eval√∫a su propia confianza antes de decidir",
          "Puedes cambiar el modo en tiempo real desde el Agent Manager"
        ]
      },
      {
        "id": "async",
        "title": "Programaci√≥n As√≠ncrona: El Secreto de la Velocidad",
        "icon": "‚ö°",
        "content": "¬øPor qu√© esperar cuando puedes hacer todo a la vez? La programaci√≥n as√≠ncrona permite que tus agentes trabajen simult√°neamente sin bloquear el sistema.",
        "code_example": "// S√çNCRONO (Secuencial) - Lento\n// Agente A ‚Üí Espera ‚Üí Agente B ‚Üí Espera ‚Üí Agente C\n// Tiempo total: 3 + 4 + 2 = 9 segundos\n\n// AS√çNCRONO (Paralelo) - R√°pido\n// Agente A ‚îÄ‚îê\n// Agente B ‚îÄ‚îº‚Üí Todos trabajan AL MISMO TIEMPO\n// Agente C ‚îÄ‚îò\n// Tiempo total: 4 segundos (el m√°s lento)\n\n// En c√≥digo:\nconst resultados = await Promise.all([\n  agentA.ejecutar(),  // No bloquea\n  agentB.ejecutar(),  // No bloquea\n  agentC.ejecutar()   // No bloquea\n])\n// Espera aqu√≠ hasta que TODOS terminen",
        "visual_explanation": {
          "sync": "Un chef cocina: corta verduras ‚Üí espera ‚Üí hierve agua ‚Üí espera ‚Üí sala plato. Total: 30 min",
          "async": "Tres chefs: uno corta, otro hierve, otro sala. Total: 12 min"
        },
        "key_points": [
          "As√≠ncrono ‚â† Al mismo tiempo exacto, sino 'no esperar innecesariamente'",
          "El orquestador lanza agentes y contin√∫a sin bloquearse",
          "Promise.all() espera a que todos terminen antes de continuar",
          "Ideal cuando los agentes NO dependen entre s√≠"
        ]
      },
      {
        "id": "paralelo-vs-secuencia",
        "title": "Paralelo vs Secuencia: ¬øCu√°ndo Usar Cada Uno?",
        "icon": "üîÑ",
        "content": "No todo se puede hacer en paralelo. A veces necesitas que un agente termine para que el siguiente empiece. El arte est√° en saber distinguir.",
        "scenarios": [
          {
            "type": "paralelo",
            "title": "‚úÖ Ideal para Paralelo",
            "example": "Crear un blog post:",
            "tasks": [
              "Agente A: Investigar el tema (5 min)",
              "Agente B: Buscar im√°genes relacionadas (3 min)",
              "Agente C: Escribir c√≥digo de ejemplo (4 min)"
            ],
            "why": "Ninguno necesita el resultado de otro",
            "time_saved": "12 min secuencial ‚Üí 5 min paralelo"
          },
          {
            "type": "secuencial",
            "title": "‚úÖ Debe ser Secuencial",
            "example": "An√°lisis de datos:",
            "tasks": [
              "Agente A: Limpiar datos crudos",
              "Agente B: Analizar datos limpios (necesita A)",
              "Agente C: Crear visualizaci√≥n (necesita B)"
            ],
            "why": "Cada paso necesita el resultado del anterior",
            "time_saved": "No aplica - es obligatorio secuencial"
          }
        ],
        "decision_tree": {
          "question": "¬øEl Agente B necesita el output del Agente A?",
          "yes": "‚Üí Usa SECUENCIA",
          "no": {
            "question": "¬øLos agentes comparten recursos limitados (ej: mismo archivo)?",
            "yes": "‚Üí Usa SECUENCIA (evita conflictos)",
            "no": "‚Üí Usa PARALELO (m√°xima velocidad)"
          }
        },
        "key_points": [
          "Paralelo cuando: Tareas independientes, recursos separados, m√°xima velocidad",
          "Secuencial cuando: Dependencias de datos, orden l√≥gico obligatorio, recursos compartidos",
          "El orquestador decide autom√°ticamente basado en el grafo de dependencias",
          "Puedes forzar secuencia con 'depends_on' en la configuraci√≥n"
        ]
      },
      {
        "id": "modulo-agentes",
        "title": "M√≥dulo Solo Agentes: Tu Flota Personal",
        "icon": "üöÄ",
        "content": "En Antigravity, puedes crear un m√≥dulo dedicado exclusivamente a la gesti√≥n de agentes. Es como tener un hangar de naves con control total.",
        "code_example": "// Estructura del M√≥dulo de Agentes\nagents/\n‚îú‚îÄ‚îÄ agent-config.yaml          # Configuraci√≥n global\n‚îú‚îÄ‚îÄ research-agents/           # Agentes de investigaci√≥n\n‚îÇ   ‚îú‚îÄ‚îÄ web-searcher.md\n‚îÇ   ‚îî‚îÄ‚îÄ data-analyzer.md\n‚îú‚îÄ‚îÄ creative-agents/           # Agentes creativos\n‚îÇ   ‚îú‚îÄ‚îÄ writer.md\n‚îÇ   ‚îî‚îÄ‚îÄ designer.md\n‚îî‚îÄ‚îÄ manager.md                 # Agente que supervisa a otros\n\n// agent-config.yaml\ndefault_autonomy: 'hybrid'\nmax_concurrent_agents: 10\nspawn_strategy: 'on_demand'  // o 'pre_warm'",
        "key_points": [
          "Agrupa agentes por funci√≥n: research, coding, creative, qa",
          "Configura valores por defecto para toda tu flota",
          "Establece l√≠mites de recursos (m√°ximo tokens, tiempo)",
          "Define estrategia de spawn: bajo demanda o pre-calentados"
        ]
      }
    ]
  },
  "exercises": [
    {
      "id": "lab-creacion",
      "title": "Laboratorio: Creaci√≥n de Agentes",
      "type": "interactive_builder",
      "description": "Crea 3 agentes especializados para un proyecto de e-commerce. Arrastra bloques para definir sus propiedades.",
      "available_blocks": [
        { "type": "role", "label": "Rol", "options": ["Investigador", "Programador", "Dise√±ador", "Tester"] },
        { "type": "autonomy", "label": "Autonom√≠a", "options": ["ASK", "AUTO", "HYBRID"] },
        { "type": "creator", "label": "Creado por", "options": ["Usuario", "Orquestador"] }
      ]
    },
    {
      "id": "simulador-async",
      "title": "Simulador: Paralelo vs Secuencial",
      "type": "visual_simulator",
      "description": "Arrastra 4 tareas al timeline y observa c√≥mo cambia el tiempo total seg√∫n el modo de ejecuci√≥n.",
      "tasks": [
        { "name": "Investigar", "duration": 5, "dependencies": [] },
        { "name": "Escribir", "duration": 8, "dependencies": ["Investigar"] },
        { "name": "Buscar imgs", "duration": 3, "dependencies": [] },
        { "name": "Publicar", "duration": 2, "dependencies": ["Escribir", "Buscar imgs"] }
      ]
    }
  ],
  "minigames": [
    {
      "id": "autonomy-matching",
      "title": "Matching: Modo de Autonom√≠a",
      "type": "drag_match",
      "instruction": "Conecta cada escenario con el nivel de autonom√≠a m√°s apropiado.",
      "pairs": [
        {
          "scenario": "Migraci√≥n de base de datos cr√≠tica",
          "answer": "ASK",
          "reason": "Tarea cr√≠tica, necesita supervisi√≥n humana en cada paso"
        },
        {
          "scenario": "Generar 100 descripciones de producto",
          "answer": "AUTO",
          "reason": "Tarea repetitiva y probada, m√°xima velocidad"
        },
        {
          "scenario": "Responder emails de soporte",
          "answer": "HYBRID",
          "reason": "Algunos simples (auto), otros complejos necesitan confirmaci√≥n"
        },
        {
          "scenario": "Depurar c√≥digo en desarrollo",
          "answer": "ASK",
          "reason": "Modo debugging, quieres ver cada decisi√≥n"
        }
      ]
    },
    {
      "id": "flow-decision",
      "title": "¬øParalelo o Secuencial?",
      "type": "quiz_cards",
      "instruction": "Lee cada escenario y selecciona si debe ejecutarse en paralelo o secuencia.",
      "scenarios": [
        {
          "text": "Tres agentes analizan el mismo documento desde diferentes √°ngulos (sentimiento, keywords, resumen)",
          "correct": "paralelo",
          "explanation": "Son an√°lisis independientes del mismo input, pueden trabajar simult√°neamente"
        },
        {
          "text": "Agente A extrae datos ‚Üí Agente B limpia datos ‚Üí Agente C visualiza datos",
          "correct": "secuencial",
          "explanation": "Cada paso necesita el resultado del anterior, hay dependencia obligatoria"
        },
        {
          "text": "5 agentes buscan informaci√≥n en 5 fuentes diferentes (Google, Twitter, Reddit, Noticias, Papers)",
          "correct": "paralelo",
          "explanation": "B√∫squedas independientes, m√°xima velocidad con paralelismo"
        },
        {
          "text": "Agente escribe c√≥digo ‚Üí Agente revisa c√≥digo ‚Üí Agente despliega c√≥digo",
          "correct": "secuencial",
          "explanation": "Pipeline de CI/CD cl√°sico, cada etapa depende de la anterior"
        }
      ]
    }
  ],
  "rewards": {
    "xp": 500,
    "badge": {
      "id": "arquitecto-agentes",
      "name": "Arquitecto de Agentes",
      "emoji": "üß¨",
      "description": "Dominaste la creaci√≥n, autonom√≠a y orquestaci√≥n de agentes as√≠ncronos"
    },
    "unlock": "Acceso a: Simulador avanzado de flotas"
  },
  "completion_summary": {
    "title": "¬°Maestr√≠a en Agentes Conseguida!",
    "achievements": [
      "Comprendiste el ciclo de vida completo de un agente",
      "Dominas los 3 niveles de autonom√≠a (ASK/AUTO/HYBRID)",
      "Entiendes cu√°ndo usar paralelismo vs secuencia",
      "Sabes crear y gestionar flotas de agentes as√≠ncronos"
    ],
    "next_steps": [
      "Pr√°ctica: Crea tu primera flota de 5+ agentes",
      "Experimento: Compara tiempos en paralelo vs secuencial",
      "Desaf√≠o: Configura un agente h√≠brido complejo"
    ]
  }
}
