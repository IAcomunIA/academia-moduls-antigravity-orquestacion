{
    "level_id": 4,
    "title": "Output: El Resultado Tangible",
    "slug": "output",
    "character": "TheCommunicator",
    "character_emoji": "üì¶",
    "character_color": "#10B981",
    "intro_dialogue": [
        {
            "speaker": "TheCommunicator",
            "text": "¬°Hola! Soy TheCommunicator. Yo me encargo de que todo lo que producen los agentes llegue al destino correcto.",
            "emotion": "greeting"
        },
        {
            "speaker": "TheCommunicator",
            "text": "El Output es la capa final: donde todo el trabajo se materializa en archivos reales, listos para usar.",
            "emotion": "explaining"
        },
        {
            "speaker": "TheCommunicator",
            "text": "Un buen output no es solo 'que funcione'. Debe ser verificable, documentado y reproducible.",
            "emotion": "serious"
        },
        {
            "speaker": "TheCommunicator",
            "text": "Vamos a aprender sobre validaci√≥n de calidad, logging y entrega final. ¬°La √∫ltima pieza del rompecabezas!",
            "emotion": "excited"
        }
    ],
    "theory": {
        "sections": [
            {
                "id": "que-es-output",
                "title": "¬øQu√© es la Capa de Output?",
                "icon": "üì¶",
                "content": "La capa de output es donde los resultados de cada agente se materializan. Incluye los archivos generados, la documentaci√≥n, los logs de ejecuci√≥n y el reporte de calidad.",
                "key_points": [
                    "Todo output se guarda en .tmp/outputs/ primero",
                    "Ning√∫n output va directamente a producci√≥n",
                    "Cada archivo tiene trazabilidad: qui√©n lo cre√≥ y cu√°ndo",
                    "Los outputs se validan antes de aprobar"
                ]
            },
            {
                "id": "logging-trazabilidad",
                "title": "Logging y Trazabilidad",
                "icon": "üìä",
                "content": "Cada acci√≥n de cada agente se registra con timestamps, estados y detalles. Esto permite debuggear problemas y entender exactamente qu√© pas√≥ en cada ejecuci√≥n.",
                "code_example": "// Ejemplo de log estructurado\n{\n  \"checkpoint_id\": 4,\n  \"agent\": \"component-builder\",\n  \"status\": \"COMPLETED\",\n  \"started_at\": \"2026-02-10T10:05:30Z\",\n  \"completed_at\": \"2026-02-10T10:07:15Z\",\n  \"outputs\": [\n    \"Button.vue\",\n    \"Card.vue\",\n    \"Modal.vue\"\n  ],\n  \"execution_time_seconds\": 105,\n  \"errors\": []\n}",
                "key_points": [
                    "Timestamp de inicio y fin de cada checkpoint",
                    "Estado: RUNNING ‚Üí COMPLETED | FAILED | BLOCKED",
                    "Lista de outputs generados",
                    "Errores capturados con stack trace",
                    "Tiempo de ejecuci√≥n para optimizaci√≥n"
                ]
            },
            {
                "id": "validacion-calidad",
                "title": "Validaci√≥n de Calidad",
                "icon": "‚úÖ",
                "content": "Antes de entregar, un agente de QA verifica todo: que el texto est√© en espa√±ol, que los colores sean de la paleta, que los componentes compilen y que la app sea accesible.",
                "key_points": [
                    "Idioma: Todo en espa√±ol",
                    "Props validados en cada componente",
                    "Colores de la paleta del skill",
                    "Responsive en 3 viewports (mobile, tablet, desktop)",
                    "Build de producci√≥n sin errores",
                    "0 errores cr√≠ticos = aprobado"
                ]
            },
            {
                "id": "ciclo-completo",
                "title": "El Ciclo Completo: 4 Capas",
                "icon": "üîÑ",
                "content": "Ahora puedes ver el panorama completo: Directiva ‚Üí Orquestador ‚Üí Agentes ‚Üí Output. Cada capa alimenta a la siguiente, creando un flujo predecible y escalable.",
                "key_points": [
                    "Capa 1 - Directiva: Define QU√â hacer",
                    "Capa 2 - Orquestador: Define el ORDEN",
                    "Capa 3 - Agentes: Ejecutan tareas espec√≠ficas",
                    "Capa 4 - Output: Resultado verificable",
                    "El humano aprueba al final ‚Üí producci√≥n"
                ]
            }
        ]
    },
    "exercise": {
        "type": "code_editor",
        "instruction": "Define un pipeline completo de las 4 capas para una mini-app de calculadora. Escribe la directiva, 2 checkpoints del orquestador, 2 agentes y describe el output esperado.",
        "template": "# PIPELINE COMPLETO: Calculadora App\n\n## CAPA 1: DIRECTIVA\n**Objetivo:** [???]\n**Alcance:** [???]\n\n## CAPA 2: ORQUESTADOR\n### Checkpoint 1: [???]\n### Checkpoint 2: [???]\n\n## CAPA 3: AGENTES\n### Agente 1: [???]\n**Responsabilidad:** [???]\n### Agente 2: [???]\n**Responsabilidad:** [???]\n\n## CAPA 4: OUTPUT\n**Archivos generados:** [???]\n**Validaci√≥n:** [???]",
        "validation": {
            "type": "contains_all",
            "required_fields": [
                "DIRECTIVA",
                "ORQUESTADOR",
                "AGENTES",
                "OUTPUT",
                "Objetivo",
                "Responsabilidad"
            ],
            "min_length": 300,
            "forbidden_words": [
                "[???]"
            ],
            "hints": [
                "La directiva debe ser sobre una calculadora funcional",
                "Los checkpoints podr√≠an ser: UI y L√≥gica",
                "Un agente podr√≠a encargarse del dise√±o y otro de la l√≥gica",
                "El output incluye archivos y criterio de validaci√≥n"
            ]
        }
    },
    "minigame": {
        "type": "quiz",
        "title": "Quiz Final: Las 4 Capas",
        "questions": [
            {
                "question": "¬øCu√°l es el documento de m√°s alto nivel en el sistema?",
                "options": [
                    "Orquestador",
                    "Directiva",
                    "Agente",
                    "Output"
                ],
                "correct": 1
            },
            {
                "question": "¬øQui√©n decide el orden de ejecuci√≥n de los checkpoints?",
                "options": [
                    "La Directiva",
                    "El Agente",
                    "El Orquestador",
                    "El Output"
                ],
                "correct": 2
            },
            {
                "question": "¬øC√≥mo se comunican los agentes entre s√≠?",
                "options": [
                    "Mensajes directos",
                    "API REST",
                    "A trav√©s de archivos (indirectamente)",
                    "No se comunican"
                ],
                "correct": 2
            },
            {
                "question": "¬øD√≥nde se guardan los outputs antes de ir a producci√≥n?",
                "options": [
                    "src/",
                    "production/",
                    ".tmp/outputs/",
                    "dist/"
                ],
                "correct": 2
            },
            {
                "question": "¬øQu√© pasa si un checkpoint falla dos veces?",
                "options": [
                    "Se ignora",
                    "Estado BLOCKED, espera humano",
                    "Se salta al siguiente",
                    "Se reinicia todo"
                ],
                "correct": 1
            }
        ]
    },
    "rewards": {
        "xp": 300,
        "badge": {
            "id": "ingeniero-de-sistemas",
            "name": "Ingeniero de Sistemas",
            "emoji": "üèóÔ∏è",
            "description": "Dominaste las 4 capas del sistema de agentes IA"
        },
        "module_completion_bonus": {
            "xp": 200,
            "badge": {
                "id": "modulo-1-completado",
                "name": "Explorador de Capas",
                "emoji": "üöÄ",
                "description": "¬°Completaste el M√≥dulo 1: Las 4 Capas!"
            }
        }
    },
    "next_level": "/module-1/completion"
}